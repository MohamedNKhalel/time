let nameInput=document.getElementById("nameInput"),drinkInput=document.getElementById("drinkInput"),priceInput=document.getElementById("priceInput"),addBtn=document.getElementById("addBtn"),updateBtn=document.getElementById("updateBtn"),updateIndex=document.getElementById("editIndex"),allCustomers=[],drinks=["\u0645\u0634\u0631\u0648\u0628 \u0633\u062E\u0646","\u0634\u0627\u064A"," \u0642\u0647\u0648\u0647 \u062A\u0631\u0643\u064A","\u0646\u0633\u0643\u0627\u0641\u064A\u0647","\u0633\u0627\u0642\u0639 \u0635\u063A\u064A\u0631","\u0633\u0627\u0642\u0639 \u0643\u0628\u064A\u0631","\u0642\u0647\u0648\u0647 \u0641\u0631\u0646\u0633\u0627\u0648\u064A","\u0643\u0627\u0628\u062A\u0634\u064A\u0646\u0648"],suggestedDrinks=[];drinkInput.addEventListener("input",()=>{for(let a=0;a<drinks.length;a++)drinks[a].includes(drinkInput.value)&&(document.getElementById("drinkSuggest").classList.remove("d-none"),document.getElementById("drinkSuggest").innerHTML=drinks[a],document.getElementById("drinkSuggest").addEventListener("click",()=>{drinkInput.value=drinks[a]}))}),null!=localStorage.getItem("customers")&&(allCustomers=JSON.parse(localStorage.getItem("customers")),displayTable(allCustomers)),document.getElementById("addBtn").addEventListener("click",()=>{addCustomer()});function addCustomer(){if(!0==validForm()){let a={name:nameInput.value,drink:drinkInput.value,price:priceInput.value};console.log(allCustomers),allCustomers.push(a),localStorage.setItem("customers",JSON.stringify(allCustomers)),displayTable(allCustomers),clearForm()}else console.log("false")}function displayTable(){let a=``;for(let b=0;b<allCustomers.length;b++)a+=`
  <tr>
      <td>${allCustomers[b].name}</td>
      <td>${allCustomers[b].price}</td>
      <td>${allCustomers[b].drink}</td>
      <td><button onclick="deleteCustomer(${b})" class="delete-btn">مسح</button></td>
      <td><button onclick="updateCustomer(${b})" class="update-btn">تعديل</button></td>
  </tr>
`;document.getElementById("tableBody").innerHTML=a}function clearForm(){nameInput.value="",priceInput.value="",drinkInput.value=""}function deleteCustomer(a){confirm("\u0645\u062A\u0623\u0643\u062F \u064A\u0627 \u0627\u0628\u0646\u064A\u061F")&&(allCustomers.splice(a,1),localStorage.setItem("customers",JSON.stringify(allCustomers)),displayTable(allCustomers))}function updateCustomer(a){addBtn.classList.replace("d-block","d-none"),updateBtn.classList.replace("d-none","d-block"),nameInput.value=allCustomers[a].name,priceInput.value=allCustomers[a].price,drinkInput.value=allCustomers[a].drink,updateIndex=a,console.log(updateIndex)}function updateNewInformation(){if(!0==validForm()){let a={name:nameInput.value,price:priceInput.value,drink:drinkInput.value};allCustomers[updateIndex].name=a.name,allCustomers[updateIndex].price=a.price,allCustomers[updateIndex].drink=a.drink,localStorage.setItem("customers",JSON.stringify(allCustomers)),displayTable(allCustomers),clearForm(),addBtn.classList.replace("d-none","d-block"),updateBtn.classList.replace("d-block","d-none")}}updateBtn.addEventListener("click",()=>{updateNewInformation()}),nameInput.addEventListener("input",validForm),drinkInput.addEventListener("input",validForm),priceInput.addEventListener("input",validForm);function validForm(){return nameInput.value&&priceInput.value&&""!=drinkInput.value?(addBtn.disabled=!1,document.getElementById("errMsg").classList.replace("d-block","d-none"),!0):(addBtn.disabled=!0,document.getElementById("errMsg").classList.replace("d-none","d-block"),!1)}